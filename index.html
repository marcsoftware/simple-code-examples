<!DOCTYPE html>
<html>
<title>simple code</title>
<meta charset="UTF-8">
<style>
    div{
        margin: auto;
        text-align: center;
  width: 30%;
  border: 2px solid #7e8694;
  padding: 10px;
  margin-bottom: 10px;
    }

    .blank{
        border-color: white;
    }


    a{
        padding:10px;
    }

    .hover:hover{
        border-color: #5b6370;
    }

    span{
        cursor: pointer;
        color:blue;
     text-decoration:underline;
    }   

    textarea{
        width: 100%;
        color:grey;
        border-color:white;
    }

    #popup{
        position: fixed;
        top: 60px; left: 40px;
    }

   

</style>
<body>





<script>

//---------------------------------------------------
window.onload=init;

//---------------------------------------------------
//
//---------------------------------------------------
function init(){
        getCookies();
}


//---------------------------------------------------
//
//---------------------------------------------------
function getRadio(){

}

//---------------------------------------------------
// save the radio button that is checked.
// so that the user doesnt have to remember to  re-press it 
// after retarted browser
//---------------------------------------------------
function setRadio(){

}
//----------------------------------------------------
// forward to user to another page
//----------------------------------------------------
function forward(handle){
    var filename =handle.innerHTML.trim();
    var mode = getRadioSelection();
    window.location.href = `file:///C:/Users/marc/Desktop/simple-code-examples/${mode}.html?name=${filename}`
}



//----------------------------------------------------
// get value of radio button
//----------------------------------------------------

function getRadioSelection() { 
    var ele = document.getElementsByName('mode'); 
      
    for(i = 0; i < ele.length; i++) { 
        if(ele[i].checked) 
            return ele[i].value; 
    } 
} 









//-----------------------------------------------------------------------------
// save the text in the textareas
//-----------------------------------------------------------------------------
function setCookie(handle) {
  
  localStorage.setItem(handle.id,handle.value);

}


//-----------------------------------------------------------------------------
// make it easier for the user to make prettier text
//-----------------------------------------------------------------------------
function linter(text){
    text= text.replace(/`/g,"✓");
    text= text.replace(/~~/g,"☐");
    return text;    
}

//-----------------------------------------------------------------------------
// load the saved textback in to the textareas
// precondition: hardcode the ids into list array.
//-----------------------------------------------------------------------------
function getCookies() {

  //list all textarea ids here.
  var list = "easy,concepts,springboot,restapi,javacore,react,java8";
  list = list.split(",");

  for(var i=0;i<list.length;i++){
    var name = list[i].trim();

     var p = localStorage.getItem(name); 
     if(!p){
        continue;
     }
     p=linter(p);
    document.getElementById(name).value=p;

  }
 
  
}



//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
 async  function doGet(url) {

     url = "study_material/"+url;
    if(url.includes(".")){

    }else{
        url+='.txt';
    }


   url=url.replace(/%2F/g,"/");
   
      let response = await fetch(url);

   
   

    if (response.status === 200) {
        let data = await response.text();
         //file = data.split("\n"); 
         //file.shift();/ / shift() deletes the empty element.
        //alert(data.length);

        document.querySelector("#hoverlength").innerHTML=data.length;
        return data.length;
  
        // handle data
    }
}


//-----------------------------------------------------------------------------
// reads localstorate to get user progress
//-----------------------------------------------------------------------------
function reportProgress(name){
    document.getElementById('report').innerHTML="";
    var modes="easy,braintyper".split(",");
    for(var i=0;i<modes.length;i++){
        var num = getCookie(name,modes[i]);
        document.getElementById('report').innerHTML+=name+";"+modes[i]+":"+num+"<br/>";
    }
}


//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
function getCookie(name,mode) {
    name=name.replace(/\//g,"%2F");
  var p = localStorage.getItem(name+mode); 
  
  if( p==='NaN' || !p){
    
    p=0;
  }
  return p; 
  //localStorage.setItem(`${book_name}lineNumber`,pageNumber*PAGE_SIZE );

}


//-----------------------------------------------------------------------------
// return the legnth of charecter in the file.
//-----------------------------------------------------------------------------
function getCharLength(handle){
    var el = document.querySelector("#hover");
    var name = handle.innerHTML;
    el.innerHTML=name;
    doGet(name);
    reportProgress(name);

}

</script>

<!--  the hover event uses these elements -->
<span id='popup'>
        <span id='hover'></span><br/>
        <span id='hoverlength'></span><br/>
        <span id='report'></span>
</span>

<div class='blank'>
    CODE
</div>
<div class='hover'>
                                                <!-- RADIO BUTTONS-->
   <input type="radio" id="option1" name="mode" value="braintyper" checked>
  <label for="male">braintyper</label>
  <input type="radio" id="option2" name="mode" value="typer">
  <label for="female">typer</label>
  <input type="radio" id="option3" name="mode" value="cold">
  <label for="other">cold</label>
    <input type="radio" id="option4" name="mode" value="easy">
  <label for="other">easy</label><br/>

</div>


<div class='hover'>
    :::EASY:::<br/>
    mysql:
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >mysql/giant</span><br/>   

    git:
    
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >gitexamples</span><br/>    

    maven:
    
    
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >mvnexamples</span><br/>    

    aws list:
    
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >aws-list</span><br/>    

     

    java commands:
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >javacommands</span><br/>   
    jenkins: ?<br/>
    docker: ?<br/>
    linux: <span onclick='forward(this)'>linux</span><br/>
<textarea id="easy" onkeyup="setCookie(this)" ></textarea>
</div>



<div class='hover'>
    ::::java 8 tutorial::::<br/>
        <span onclick='forward(this)' onmouseover='getCharLength(this)' >java8tutorial</span><br/>    
        <span onclick='forward(this)' onmouseover='getCharLength(this)' >java8/concurrency/giant</span><br/>    
        <span onclick='forward(this)' onmouseover='getCharLength(this)' >java8/lambda/giant</span><br/>    
        <span onclick='forward(this)' onmouseover='getCharLength(this)' >java8/misc/giant</span><br/>    
        <span onclick='forward(this)' onmouseover='getCharLength(this)' >java8/nashorn/giant</span><br/>    
        <span onclick='forward(this)' onmouseover='getCharLength(this)' >java8/stream/giant</span><br/>    
        <span onclick='forward(this)' onmouseover='getCharLength(this)' >java8/time/giant</span><br/>    
        <textarea id="java8" onkeyup="setCookie(this)" ></textarea>
</div>



<div class='hover'>
    :::react & java project:::<br/>
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >react/component_react.txt</span><br/>  
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >react/CourseDataService.js</span><br/>  
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >react/javabackend.txt</span><br/>  
    <textarea id="react" onkeyup="setCookie(this)" ></textarea>
</div>


<div class='hover'>
    :::JAVA CORE:::<br/>
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >javacore/collections.txt</span><br/>  
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >javacore/commands.txt</span><br/>  
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >javacore/giant.txt</span><br/>  
    <textarea id="javacore" onkeyup="setCookie(this)" ></textarea>
</div>
<div class='hover'>
               :REST API SAMPLE PROJECT:<br/>


<span onclick='forward(this)' onmouseover='getCharLength(this)' >restapi_example/SpringBoot2RestServiceApplication.java</span><br/>
<span onclick='forward(this)' onmouseover='getCharLength(this)' >restapi_example/SpringBoot2RestServiceApplicationTests.java</span><br/>
<span onclick='forward(this)' onmouseover='getCharLength(this)' >restapi_example/Student.java</span><br/>
<span onclick='forward(this)' onmouseover='getCharLength(this)' >restapi_example/StudentNotFoundException.java</span><br/>
<span onclick='forward(this)' onmouseover='getCharLength(this)' >restapi_example/StudentRepository.java</span><br/>
<span onclick='forward(this)' onmouseover='getCharLength(this)' >restapi_example/StudentResource.java</span><br/>
<textarea id="restapi" onkeyup="setCookie(this)" ></textarea>
</div>
<div class='hover'>
    ::: spring boot -top packages :::<br/>
    springboot-giant: 

  <span onclick='forward(this)' onmouseover='getCharLength(this)' >springboot/in28minutes_giant_parsed.txt</span><br/>
    restAPI:
    <span onclick='forward(this)' onmouseover='getCharLength(this)' >restapi_example/restexample.txt</span><br/>
    

    
    springcore: ?<br/>
    spring web mvc: giant<br/>
    thymeleaf: <span onclick='forward(this)' onmouseover='getCharLength(this)' >springboot/thymeleaf.txt</span><br/>
    spring data: giant<br/>
    spring hibernate: ginat<br/>
    spring security: giant<br/>
    spring aop: giant<br/>

<textarea id="springboot" onkeyup="setCookie(this)"  onmouseover='getCharLength(this)' ></textarea>

</div>

<div class='hover'>
    :::CONCEPTS:::<br/>
    theory: spring framework vs spring boot.<br/>
    theory java.<br/>
    spring framekwork 5 & spring boot 2 <- what is this?
    <textarea id="concepts" onkeyup="setCookie(this)"  onmouseover='getCharLength(this)' ></textarea>
</div>







    
    


</body>
</html>

